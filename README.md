# ุงูุฒููู ููฺฏุงูโุณุงุฒ ุจุฑูู

- ุชูุณูโุจูุฏ ูุงฺููุงุฑ ุตูุญุงุช ูุฏุฑุช
- ุงุฌุงุฏ ฺฉูุงุณ `Admin_Common` ุจุฑุง ูุชุฏูุง ูุดุชุฑฺฉ
- ูุงูโูุง ุชุฎุตุต ุจุฑุง ูุฑ ุจุฎุด: ููุชุ ูุญุงุณุจูุ ููุฌูุฏุ ุฏุจุงฺฏ
- ุจูุจูุฏ ููุงุด ุชุนุฏุงุฏ ูุงูุน ูุญุตููุงุช ูุฑูุดูุฏฺฏุงู

## ูุงุจูุชโูุง ุงุตู

### ๐ ููฺฏุงูโุณุงุฒ ููุช
- ุฏุฑุงูุช ููุชโูุง ุฎุงู ุงุฒ ูุฑูุดูุฏฺฏุงู
- ูุญุงุณุจู ููุช ููุง ุจุง ุฏุฑุตุฏ ุณูุฏ
- ุชุจุฏู ุฎูุฏฺฉุงุฑ ุฑุงู ุจู ุชููุงู
- ุฐุฎุฑู ุฏุฑ ูุชุงูุง ุงุฎุชุตุงุต

### ๐ฆ ูุฏุฑุช ููุฌูุฏ
- ุจุฑูุฒุฑุณุงู ููุฌูุฏ ุงุฒ ูุฑูุดูุฏฺฏุงู
- ูพุดุชุจุงู ุงุฒ ุงููุงุน ููุฌูุฏ (ูุฏุฑุช ุดุฏู/ุณุงุฏู)
- ููฺฏุงูโุณุงุฒ ูุถุนุช ููุฌูุฏ

### ๐ฅ ูุฏุฑุช ฺูุฏ ูุฑูุดูุฏู
- ูพุดุชุจุงู ุงุฒ ฺูุฏู ูุฑูุดูุฏู ููุฒูุงู
- ุชูุธูุงุช ุงุฎุชุตุงุต ุจุฑุง ูุฑ ูุฑูุดูุฏู
- API Keys ู ุชูุธูุงุช ุงุชุตุงู

### ๐ฏ ูฺฺฏโูุง ูพุดุฑูุชู
- ูพุฑุฏุงุฒุด ุฏุณุชูโุง ุจุฑุง ุญุฌูโูุง ุจุงูุง
- ุณุณุชู ูุงฺฏโฺฏุฑ ฺฉุงูู
- ุงุจุฒุงุฑ ุฏุจุงฺฏ ู ุนุจโุงุจ
- ูพุดโููุงุด ูุจู ุงุฒ ุงุฌุฑุง

## ุณุงุฎุชุงุฑ ูุงูโูุง
beron-seller-synce/
โโโ ๐ beron-seller-sync.php                            # ูุงู ุงุตู ุงูุฒููู - ุจุงุฑฺฏุฐุงุฑ ุงููู ู ุฑุงูโุงูุฏุงุฒ
โโโ ๐ README.md                                        # ูุณุชูุฏุงุช ุฑุงูููุง ูุตุจ ู ุงุณุชูุงุฏู
โโโ ๐ CHANGELOG.md                                     # ุชุงุฑุฎฺู ุชุบุฑุงุช ู ูุณุฎูโูุง
โโโ ๐ uninstall.php                                    # ูุงู ุญุฐู ุงูุฒููู - ูพุงฺฉุณุงุฒ ุฏุงุฏูโูุง ููฺฏุงู ุญุฐู
โโโ ๐ admin/                                           # ูุฏุฑุช ุฑุงุจุท ฺฉุงุฑุจุฑ
โ   โโโ ๐๏ธ class-admin-menus.php                       # ุชุนุฑู ููููุง ู ุฒุฑููููุง ุณุณุชู
โ   โโโ ๐จ class-admin-pages.php                       # ๐ฆ ุงุตู - ูุฏุฑุช ู ูุฏุงุช ุจู ุตูุญุงุช ูุฎุชูู
โ   โโโ ๐ class-admin-dashboard.php                   # ุฏุงุดุจูุฑุฏ ุงุตู - ุขูุงุฑ ู ููุง ฺฉู ุณุณุชู
โ   โโโ ๐ง class-admin-common.php                      # ๐ ุฌุฏุฏ - ูุชุฏูุง ูุดุชุฑฺฉ ุจู ุตูุญุงุช
โ   โโโ ๐ฐ class-admin-price-pages.php                 # ๐ ุฌุฏุฏ - ุตูุญุงุช ูุฑุจูุท ุจู ูุฏุฑุช ููุชโูุง
โ   โโโ ๐งฎ class-admin-calculate-pages.php             # ๐ ุฌุฏุฏ - ุตูุญุงุช ูุญุงุณุจู ููุช ููุง
โ   โโโ ๐ฆ class-admin-stock-pages.php                 # ๐ ุฌุฏุฏ - ุตูุญุงุช ูุฏุฑุช ููุฌูุฏ
โ   โโโ ๐ class-admin-debug-pages.php                 # ๐ ุฌุฏุฏ - ุตูุญุงุช ุฏุจุงฺฏ ู ุนุจโุงุจ
โ   โโโ โก class-admin-ajax.php                        # ูุฏุฑุช ุฏุฑุฎูุงุณุชโูุง AJAX
โโโ ๐ handlers/                                       # ูพุฑุฏุงุฒุด ุฏุฑุฎูุงุณุชโูุง
โ   โโโ ๐ฅ class-price-sync-handler.php                # ููุฏูุฑ ููฺฏุงูโุณุงุฒ ููุชโูุง
โ   โโโ ๐งฎ class-price-calc-handler.php                # ููุฏูุฑ ูุญุงุณุจู ููุช ููุง
โ   โโโ ๐ฆ class-stock-update-handler.php              # ููุฏูุฑ ุจุฑูุฒุฑุณุงู ููุฌูุฏ
โ   โโโ ๐ค class-product-assign-handler.php            # ููุฏูุฑ ุงุฎุชุตุงุต ูุญุตููุงุช
โโโ ๐ meta/                                            # ูุฏุฑุช ูุชุงูุง - ุชุนุฑู ู ูุฏุฑุช ููุฏูุง ุณูุงุฑุด
โ   โโโ ๐ท๏ธ meta-definitions.php                         # ุชุนุฑู ุซุงุจุชโูุง ูุชุง - ฺฉูุฏูุง ู ุณุงุฎุชุงุฑ ูุชุงูุง ูุญุตูู ู ฺฉุงุฑุจุฑ
โ   โโโ ๐ง class-meta-handler.php                       # ููุฏูุฑ ุงุตู ูุชุงูุง - ุฏุฑุงูุช ู ุงุนุชุจุงุฑุณูุฌ ูุชุงูุง ูุฑูุดูุฏู
โ   โโโ ๐ฆ class-product-meta.php                       # ูุฏุฑุช ูุชุงูุง ูุญุตูู - ููุฏูุง ููุชุ ุณูุฏ ู ุฒูุงูโูุง ููฺฏุงูโุณุงุฒ
โ   โโโ ๐ค class-user-meta.php                          # ูุฏุฑุช ูุชุงูุง ฺฉุงุฑุจุฑ - ููุฏูุง API ู ุชูุธูุงุช ูุฑูุดูุฏฺฏุงู
โโโ ๐ inc/                                             # ูุณุชู ุงุตู ุงูุฒููู - ููุทู ฺฉุณุจ ู ฺฉุงุฑ ู ุนููุงุช ุงุตู
โ   โโโ ๐ท๏ธ admin-columns.php                            # ุณุชููโูุง ูพุดุฎูุงู - ููุงุด ุงุทูุงุนุงุช ุณูฺฉ ุฏุฑ ูุณุช ูุญุตููุงุช
โ   โโโ ๐ฐ class-sale-profit-calculator.php             # ูุญุงุณุจู ุณูุฏ ูุฑูุด - ูุญุงุณุจู ุฎูุฏฺฉุงุฑ ุณูุฏ ุจุฑ ุงุณุงุณ ููุชโูุง
โ   โโโ โก class-vendor-ajax-handler.php                # ููุฏูุฑูุง AJAX - ูพุฑุฏุงุฒุด ุฏุฑุฎูุงุณุชโูุง ุบุฑููฺฏุงู
โ   โโโ ๐ class-vendor-api-optimizer.php               # ุจูููโุณุงุฒ API - ูุฏุฑุช ุงุฑุชุจุงุท ุจุง API ูุฑูุดูุฏฺฏุงู
โ   โโโ ๐ง class-vendor-debug-helper.php                # ุงุจุฒุงุฑ ุฏุจุงฺฏ - ฺฉูฺฉ ุจู ุนุจโุงุจ ู ุฑูุน ุฎุทุงูุง
โ   โโโ ๐ class-vendor-logger.php                      # ุณุณุชู ูุงฺฏโฺฏุฑ - ุซุจุช ุฑูุฏุงุฏูุง ู ุฎุทุงูุง ุณุณุชู
โ   โโโ ๐ฐ class-vendor-price-calculator.php            # ูุญุงุณุจู ููุช ููุง - ุชุจุฏู ููุช ุฎุงู ุจู ููุช ูุฑูุด
โ   โโโ ๐ค class-vendor-product-assigner.php            # ุงุฎุชุตุงุต ูุญุตููุงุช - ุชุฎุตุต ูุญุตููุงุช ุจู ูุฑูุดูุฏฺฏุงู
โ   โโโ ๐พ class-vendor-raw-price-saver-optimized.php   # ุฐุฎุฑู ููุช (ุงุตู) - ุฏุฑุงูุช ู ุฐุฎุฑู ููุชโูุง ุฎุงู ุงุฒ ูุฑูุดูุฏู
โ   โโโ ๐ฆ class-vendor-stock-updater-optimized.php     # ุจุฑูุฒุฑุณุงู ููุฌูุฏ (ุงุตู) - ุจูโุฑูุฒุฑุณุงู ููุฌูุฏ ุงุฒ ูุฑูุดูุฏู
โ   โโโ ๐ update-core.php                              # ุณุณุชู ุขูพุฏุช - ูุฏุฑุช ุจุฑูุฒุฑุณุงูโูุง ุงูุฒููู
โโโ ๐ assets/                                          # ูุงูโูุง ุงุณุชุงุชฺฉ - ุฑุงุจุท ฺฉุงุฑุจุฑ ู ุฌูููโูุง ุจุตุฑ
โ   โโโ ๐จ progress.css                                 # ุงุณุชุงู ููุงุฑ ูพุดุฑูุช - ุธุงูุฑ ููุงุฑูุง ูพุดุฑูุช ุนููุงุช
โ   โโโ โก progress.js                                  # ุงุณฺฉุฑูพุช ููุงุฑ ูพุดุฑูุช - ูุฏุฑุช ููุงุฑูุง ูพุดุฑูุช ุฏุฑ ุฑุงุจุท ฺฉุงุฑุจุฑ
โโโ ๐ logs/                                            # ูพูุดู ูุงฺฏโูุง - ุฐุฎุฑู ูุงูโูุง ุซุจุช ุฑูุฏุงุฏูุง ุณุณุชู


## ูุตุจ ู ุฑุงูโุงูุฏุงุฒ

1. ุขูพููุฏ ุงูุฒููู ุฏุฑ ูพูุดู `wp-content/plugins/`
2. ูุนุงูโุณุงุฒ ุงูุฒููู
3. ุชูุธู ูุฑูุดูุฏฺฏุงู ุฏุฑ ุจุฎุด ฺฉุงุฑุจุฑุงู
4. ุดุฑูุน ููฺฏุงูโุณุงุฒ ุงุฒ ููู "ููฺฏุงูโุณุงุฒ ูุฑูุดูุฏฺฏุงู"

## ุชูุธูุงุช ูุฑูุดูุฏู

ุจุฑุง ูุฑ ูุฑูุดูุฏู ุงู ูุชุงูุง ุจุงุฏ ุชูุธู ุดููุฏ:

- `vendor_website_url` - ุขุฏุฑุณ ูุจุณุงุช ูุฑูุดูุฏู
- `vendor_consumer_key` - ฺฉูุฏ API
- `vendor_consumer_secret` - ุฑูุฒ API
- `vendor_currency` - ุงุฑุฒ (rial/toman)
- `vendor_stock_type` - ููุน ููุฌูุฏ
- `vendor_cooperation_price_meta_key` - ฺฉูุฏ ูุชุง ููุช
- `vendor_price_conversion_percent` - ุฏุฑุตุฏ ุณูุฏ


## ููฺฉโูุง ู ููุชุฑูุง


// ููุชุฑ ุจุฑุง ุชุบุฑ ุฏุฑุตุฏ ุณูุฏ
add_filter('vendor_price_conversion_percent', function($percent) {
    return 25; // ุชุบุฑ ุฏุฑุตุฏ ุจู 25%
});

// ุงฺฉุดู ุจุนุฏ ุงุฒ ููฺฏุงูโุณุงุฒ
add_action('vendor_sync_completed', function($vendor_id, $processed_count) {
    // ุงูุฌุงู ุนููุงุช ุจุนุฏ ุงุฒ ููฺฏุงูโุณุงุฒ
});


## ุฏุณุชูุฑุงูุนูู ุงุณุชูุงุฏู ุงุฒ ุณุณุชู ูุงฺฏโฺฏุฑ 

๐ฏ ูุนุฑู
ุณุณุชู ูุงฺฏโฺฏุฑ ูพุดุฑูุชู ุจุฑุง ุฑุฏุงุจ ู ุซุจุช ุชูุงู ุฑูุฏุงุฏูุง ููฺฏุงูโุณุงุฒ ุจุง ูุฑูุดูุฏฺฏุงู.

๐ ุณุงุฎุชุงุฑ ูุงูโูุง ูุงฺฏ
sync-errors.log - ุฎุทุงูุง ู ูุดฺฉูุงุช

sync-success.log - ุนููุงุช ูููู

sync-api.log - ุฏุฑุฎูุงุณุชโูุง API

sync-debug.log - ุงุทูุงุนุงุช ุฏุจุงฺฏ (ููุท ุฏุฑ ุญุงูุช ุชูุณุนู)

sync-general.log - ุชูุงู ูุงฺฏโูุง (ุฌุงูุน)

๐ ุฑูุดโูุง ุงุณุชูุงุฏู
1. ุซุจุช ุฎุทุง (Error)
// ุฎุทุง ุณุงุฏู
Vendor_Logger::log_error("ุฎุทุง ุงุชุตุงู ุจู API", $product_id, $vendor_id);

// ุฎุทุง ุจุง ุฌุฒุฆุงุช ุจุดุชุฑ
Vendor_Logger::log_error("Timeout ุฏุฑ ุฏุฑุงูุช ููุช ุจุฑุง SKU: {$sku}", null, $vendor_id);

2. ุซุจุช ููููุช (Success)

// ููููุช ุจุง ูุญุตูู
Vendor_Logger::log_success($product_id, 'price_updated', $vendor_id, "ููุช ุจู {$price} ุจูโุฑูุฒ ุดุฏ");

// ููููุช ุจุฏูู ูุญุตูู
Vendor_Logger::log_success(0, 'sync_completed', $vendor_id, "ููฺฏุงูโุณุงุฒ ฑตฐ ูุญุตูู ุชฺฉูู ุดุฏ");

3. ุซุจุช ุฏุฑุฎูุงุณุช API

Vendor_Logger::log_api_request(
    $api_url,
    $sku,
    true, // ูููู/ูุงูููู
    $vendor_id,
    $response_time // ุงุฎุชุงุฑ
);

4. ุซุจุช ุงุทูุงุนุงุช ุนููู (Info)

// ุดุฑูุน ุนููุงุช
Vendor_Logger::log_info("๐ ุดุฑูุน ููฺฏุงูโุณุงุฒ ููุช ุจุฑุง ูุฑูุดูุฏู {$vendor_id}", $vendor_id);

// ูุถุนุช ูพุฑุฏุงุฒุด
Vendor_Logger::log_info("๐ฆ ูพุฑุฏุงุฒุด ตฐ ูุญุตูู ุงุฒ ฒฐฐ ูุญุตูู", $vendor_id);

// ุงุชูุงู ุนููุงุช
Vendor_Logger::log_info("โ ููฺฏุงูโุณุงุฒ ุจุง ููููุช ุชฺฉูู ุดุฏ", $vendor_id);

5. ุซุจุช ูุดุฏุงุฑ (Warning)

// ูุดุฏุงุฑ ุจุฑุง ูุญุตูู
Vendor_Logger::log_warning("ููุช ุตูุฑ ุชุดุฎุต ุฏุงุฏู ุดุฏ", $product_id, $vendor_id);

// ูุดุฏุงุฑ ุนููู
Vendor_Logger::log_warning("ูุญุฏูุฏุช ูุฑุฎ ุฏุฑุฎูุงุณุช API", null, $vendor_id);

6. ุซุจุช ุฏุจุงฺฏ (Debug) - ููุท ุฏุฑ ุญุงูุช ุชูุณุนู

// ุงุจุชุฏุง ุฏุฑ wp-config.php ุชุนุฑู ฺฉูุฏ:
define('BERON_DEBUG', true);

// ุณูพุณ ุงุณุชูุงุฏู ฺฉูุฏ:
Vendor_Logger::log_debug("ููุฏุงุฑ ูุชุง: {$meta_value}", $product_id, $vendor_id);
Vendor_Logger::log_debug("ูพุงุณุฎ API: " . print_r($response, true), null, $vendor_id);

๐ก ุงูฺฏููุง ุชูุตู ุดุฏู
ุจุฑุง ุนููุงุช ููฺฏุงูโุณุงุฒ ููุช:

    public function sync_prices($vendor_id, $brand_id) {
        try {
            Vendor_Logger::log_info("๐ ุดุฑูุน ููฺฏุงูโุณุงุฒ ููุช", $vendor_id);
            
            // ููุทู ุงุตู
            foreach ($products as $product) {
                Vendor_Logger::log_debug("ูพุฑุฏุงุฒุด ูุญุตูู: {$product['sku']}", $product['id'], $vendor_id);
                
                if ($price > 0) {
                    Vendor_Logger::log_success($product['id'], 'price_saved', $vendor_id, "ููุช: {$price}");
                } else {
                    Vendor_Logger::log_warning("ููุช ูุงูุนุชุจุฑ", $product['id'], $vendor_id);
                }
            }
            
            Vendor_Logger::log_info("โ ููฺฏุงูโุณุงุฒ ุชฺฉูู ุดุฏ", $vendor_id);
            
        } catch (Exception $e) {
            Vendor_Logger::log_error("ุฎุทุง ุฏุฑ ููฺฏุงูโุณุงุฒ: " . $e->getMessage(), null, $vendor_id);
            throw $e;
        }
    }
ุจุฑุง ุฏุฑุฎูุงุณุชโูุง API:


    public function fetch_vendor_data($sku, $vendor_id) {
        $start_time = microtime(true);
        
        try {
            $response = $this->api_call($sku);
            $response_time = round(microtime(true) - $start_time, 2);
            
            Vendor_Logger::log_api_request($this->api_url, $sku, true, $vendor_id, $response_time);
            return $response;
            
        } catch (Exception $e) {
            $response_time = round(microtime(true) - $start_time, 2);
            Vendor_Logger::log_api_request($this->api_url, $sku, false, $vendor_id, $response_time);
            Vendor_Logger::log_error("API Error: " . $e->getMessage(), null, $vendor_id);
            throw $e;
        }
    }

๐๏ธ ุงุจุฒุงุฑูุง ูุฏุฑุช ูุงฺฏ

ูุดุงูุฏู ูุงฺฏโูุง ุงุฎุฑ:

$recent_logs = Vendor_Logger::get_recent_logs('general', 50); // ตฐ ุฎุท ุขุฎุฑ
$error_logs = Vendor_Logger::get_recent_logs('error', 20);   // ฒฐ ุฎุท ุขุฎุฑ ุฎุทุงูุง

ุฏุฑุงูุช ุขูุงุฑ ูุงฺฏโูุง:

$stats = Vendor_Logger::get_log_stats();

ุฎุฑูุฌ:
[
    'error' => ['size' => '15 KB', 'lines' => 150, 'last_modified' => '2024-01-15 10:30:00'],
    'success' => ['size' => '45 KB', 'lines' => 450, 'last_modified' => '2024-01-15 10:35:00'],
    ...
]


ูพุงฺฉุณุงุฒ ุฎูุฏฺฉุงุฑ:
// ูพุงฺฉุณุงุฒ ูุงฺฏโูุง ูุฏูโุชุฑ ุงุฒ ณฐ ุฑูุฒ
Vendor_Logger::cleanup_old_logs(30);

๐ ุณุทูุญ ูุงฺฏ ู ููุงุฑุฏ ุงุณุชูุงุฏู
ุณุทุญ	ููุฑุฏ ุงุณุชูุงุฏู	ูุซุงู
error	ุฎุทุงูุง ุจุญุฑุงู	ุฎุทุง ุงุชุตุงู ุจู ุฏุชุงุจุณ
success	ุนููุงุช ูููู	ููุช ุจุง ููููุช ุฐุฎุฑู ุดุฏ
warning	ูุดุฏุงุฑูุง	ููุช ุตูุฑ ุชุดุฎุต ุฏุงุฏู ุดุฏ
info	ุงุทูุงุนุงุช ุนููู	ุดุฑูุน ุนููุงุช ููฺฏุงูโุณุงุฒ
debug	ุงุทูุงุนุงุช ุชูุณุนู	ููุงุฏุฑ ูุชุง ู ูุชุบุฑูุง
api	ุฏุฑุฎูุงุณุชโูุง API	API Call - Success - 0.45s


๐ ูฺฉุงุช ููู
ููุดู vendor_id ุฑุง ุงุฑุณุงู ฺฉูุฏ ุจุฑุง ุฑุฏุงุจ ุจูุชุฑ
ุงุฒ emoji ุงุณุชูุงุฏู ฺฉูุฏ ุจุฑุง ุฎูุงูุง ุจูุชุฑ ูุงฺฏโูุง
ูุงฺฏโูุง ุฏุจุงฺฏ ุฑุง ุฏุฑ production ุบุฑูุนุงู ฺฉูุฏ
ูุงฺฏโูุง ุฑุง ุจู ุทูุฑ ููุธู ุจุฑุฑุณ ู ูพุงฺฉุณุงุฒ ฺฉูุฏ
ุงุฒ ูพุงูโูุง ุชูุตู ู ูุงุถุญ ุงุณุชูุงุฏู ฺฉูุฏ
ุงู ุฏุณุชูุฑุงูุนูู ุจู ููู ุชูุณุนูโุฏููุฏฺฏุงู ฺฉูฺฉ ูโฺฉูุฏ ุชุง ุจู ุตูุฑุช ุงุณุชุงูุฏุงุฑุฏ ู ฺฉูพุงุฑฺู ุงุฒ ุณุณุชู ูุงฺฏโฺฏุฑ ุงุณุชูุงุฏู ฺฉููุฏ.


% ุงุตูู ุชูุณุนู ุตูุญุงุช 

๐ฏ ุงุตูู ุชูุณุนู
1. ุงุณุชูุงุฏู ุงุฒ Admin_Common ุจุฑุง ูุชุฏูุง ูุดุชุฑฺฉ
php
// โ ุฏุฑุณุช
<?php Admin_Common::render_common_stats(); ?>

// โ ุงุดุชุจุงู  
<?php self::render_common_stats(); ?>
2. ูุงูโฺฏุฐุงุฑ ุงุณุชุงูุฏุงุฑุฏ
php
// ฺฉูุงุณ ุตูุญุงุช: Admin_{Feature}_Pages
// ูุชุฏ ุฑูุฏุฑ: render_{feature}_page()
// ูุชุฏ ูุฑู: render_{feature}_form()
3. ุณุงุฒฺฏุงุฑ ุจุง ุณุงุฎุชุงุฑ ููุฌูุฏ
php
// ููุดู ุงุฒ ุทุฑู Admin_Pages ูุฑุงุฎูุงู ุดูุฏ
Admin_Pages::render_{feature}_page();
4. ูุฏุฑุช ูุงุจุณุชฺฏโูุง
php
// ุงุณุชูุงุฏู ุงุฒ ูุชุฏูุง ฺฉูฺฉ ููุฌูุฏ
Vendor_Product_Assigner::get_vendor_real_products_count($vendor_id);
A